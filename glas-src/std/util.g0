prog unit [0]
prog empty-record [unit]
prog empty-list [unit]

prog variant [dip[dip[empty-record]] put]
prog drop-unit [unit eq]

prog write-str [ 'write variant eff drop-unit ]
prog write-str-line [ 0x0A pushr write-str ]

prog log-eff ['log variant eff drop-unit]
prog log-text-lv [ dip ['msg variant] 'lv put 'text variant log-eff]
prog log-info [ 'info log-text-lv ]
prog log-warn [ 'warn log-text-lv ]
prog log-error [ 'error log-text-lv ]
